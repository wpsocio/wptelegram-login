import{u as S,j as t,_ as o}from"./usePluginData-2p2pCtnU.js";const b=e=>S("wptelegram_login",e),i=({attributes:e,className:s})=>{const u=b("assets"),{button_style:a,show_user_photo:c,corner_radius:g}=e;let l;a==="small"?l="100px":a==="medium"&&(l="150px");let r;return a==="small"?r="20px":a==="medium"&&(r="30px"),t.jsxs("div",{className:s,children:[t.jsx("img",{src:u.loginImageUrl,style:{borderRadius:`${g}px`,width:l},alt:""}),c?t.jsx("img",{src:u.loginAvatarUrl,style:{width:r},alt:""}):null]})},k=()=>[{label:o("Large"),value:"large"},{label:o("Medium"),value:"medium"},{label:o("Small"),value:"small"}];var h;const p=((h=window.wptelegram_login)==null?void 0:h.savedSettings)||{},B=({attributes:e,setAttributes:s,className:u})=>{const{button_style:a,show_user_photo:c,corner_radius:g,lang:l,show_if_user_is:r}={...p,...e};wp.element.useEffect(()=>{for(const n in p)n in e||s({[n]:p[n]})},[]);const m=b("uiData"),y=wp.element.useCallback(n=>s({button_style:n}),[s]),C=wp.element.useCallback(n=>s({show_user_photo:n}),[s]),f=wp.element.useCallback(n=>s({corner_radius:n}),[s]),j=wp.element.useCallback(n=>s({show_if_user_is:n}),[s]),v=wp.element.useCallback(n=>s({lang:n}),[s]);return t.jsxs(t.Fragment,{children:[t.jsx(wp.blockEditor.InspectorControls,{children:t.jsxs(wp.components.PanelBody,{title:o("Button Settings"),children:[t.jsx(wp.components.RadioControl,{label:o("Button Style"),selected:a,onChange:y,options:k()}),t.jsx(wp.components.ToggleControl,{label:o("Show User Photo"),checked:c,onChange:C}),t.jsx(wp.components.TextControl,{label:o("Corner Radius"),value:g||"",onChange:f,type:"number",min:"0",max:"20"}),t.jsx(wp.components.SelectControl,{label:o("Language"),value:l,onChange:v,options:m.lang}),t.jsx(wp.components.SelectControl,{label:o("Show if user is"),value:r,onChange:j,options:m.show_if_user_is})]})}),t.jsx(i,{attributes:e,className:u})]})},P={button_style:{type:"string",default:"large"},show_user_photo:{type:"boolean",default:!0},corner_radius:{type:"string",default:"20"},show_if_user_is:{type:"string",default:"0"}},x={button_style:{type:"string"},show_user_photo:{type:"boolean"},corner_radius:{type:"string"},show_if_user_is:{type:"string"}},_={...x,lang:{type:"string"}};var w;const d=((w=window.wptelegram_login)==null?void 0:w.savedSettings)||{};wp.blocks.registerBlockType("wptelegram/login",{title:o("WP Telegram Login"),icon:"smartphone",category:"wptelegram",attributes:_,edit:B,save(e){return t.jsx(i,{attributes:e.attributes,className:""})},deprecated:[{attributes:P,save(e){return t.jsx(i,{attributes:e.attributes,className:""})}},{attributes:x,migrate(e){return{...d,...e}},save(e){return t.jsx(i,{attributes:e.attributes,className:""})}},{attributes:_,migrate(e){return{...d,...e}},save(e){return t.jsx(i,{attributes:e.attributes,className:""})}}]});
//# sourceMappingURL=blocks-tHn_nRaP.js.map
