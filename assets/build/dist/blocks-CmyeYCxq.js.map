{"version":3,"file":"blocks-CmyeYCxq.js","sources":["../../../../node_modules/.vite_external/@wordpress_blocks.js","../../../../node_modules/.vite_external/@wordpress_block-editor.js","../../../../node_modules/.vite_external/@wordpress_components.js","../../../../node_modules/.vite_external/@wordpress_element.js","../../../../js/blocks/telegram-login/getDomData.ts","../../../../js/blocks/telegram-login/Output.tsx","../../../../js/blocks/telegram-login/Edit.tsx","../../../../js/blocks/telegram-login/constants.ts","../../../../js/blocks/telegram-login/index.tsx"],"sourcesContent":["module.exports = wp.blocks;","module.exports = wp.blockEditor;","module.exports = wp.components;","module.exports = wp.element;","import { getPluginData } from '@wpsocio/services/get-plugin-data.js';\nimport type { WPTelegramLoginData } from './types';\n\nexport const getDomData = <\n\tK extends keyof WPTelegramLoginData | undefined = undefined,\n>(\n\tkey?: K,\n): K extends keyof WPTelegramLoginData\n\t? WPTelegramLoginData[K]\n\t: WPTelegramLoginData => {\n\treturn getPluginData('wptelegram_login', key);\n};\n","import type { BlockEditProps } from '@wordpress/blocks';\n\nimport { getDomData } from './getDomData';\nimport type { TelegramLoginAtts } from './types';\n\nconst assets = getDomData('assets');\n\nexport const Output: React.FC<\n\tPick<BlockEditProps<TelegramLoginAtts>, 'attributes' | 'className'>\n> = ({ attributes, className }) => {\n\tconst { button_style, show_user_photo, corner_radius } = attributes;\n\n\tlet button_width: string | undefined;\n\tif ('small' === button_style) {\n\t\tbutton_width = '100px';\n\t} else if ('medium' === button_style) {\n\t\tbutton_width = '150px';\n\t}\n\n\tlet avatar_width: string | undefined;\n\tif ('small' === button_style) {\n\t\tavatar_width = '20px';\n\t} else if ('medium' === button_style) {\n\t\tavatar_width = '30px';\n\t}\n\n\treturn (\n\t\t<div className={className}>\n\t\t\t<img\n\t\t\t\tsrc={assets.loginImageUrl}\n\t\t\t\tstyle={{ borderRadius: `${corner_radius}px`, width: button_width }}\n\t\t\t\talt=\"\"\n\t\t\t/>\n\t\t\t{show_user_photo ? (\n\t\t\t\t<img\n\t\t\t\t\tsrc={assets.loginAvatarUrl}\n\t\t\t\t\tstyle={{ width: avatar_width }}\n\t\t\t\t\talt=\"\"\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n};\n","import { InspectorControls } from '@wordpress/block-editor';\nimport { useBlockProps } from '@wordpress/block-editor';\nimport type { BlockEditProps } from '@wordpress/blocks';\nimport {\n\tFlex,\n\tPanelBody,\n\tRadioControl,\n\tSelectControl,\n\tTextControl,\n\tToggleControl,\n} from '@wordpress/components';\nimport { useCallback, useEffect } from '@wordpress/element';\nimport { __ } from '@wpsocio/i18n';\n\nimport { Output } from './Output';\nimport { getDomData } from './getDomData';\nimport type { TelegramLoginAtts } from './types';\n\nconst getButtonStyleOptions = () => [\n\t{ label: __('Large'), value: 'large' },\n\t{ label: __('Medium'), value: 'medium' },\n\t{ label: __('Small'), value: 'small' },\n];\n\nconst savedSettings = (window.wptelegram_login?.savedSettings ||\n\t{}) as TelegramLoginAtts;\n\nexport const Edit: React.FC<BlockEditProps<TelegramLoginAtts>> = ({\n\tattributes,\n\tsetAttributes,\n}) => {\n\tconst {\n\t\tbutton_style,\n\t\tshow_user_photo,\n\t\tcorner_radius,\n\t\tlang,\n\t\tshow_if_user_is,\n\t} = { ...savedSettings, ...attributes };\n\n\tuseEffect(() => {\n\t\tfor (const key in savedSettings) {\n\t\t\tif (!(key in attributes)) {\n\t\t\t\tsetAttributes({ [key]: savedSettings[key as keyof TelegramLoginAtts] });\n\t\t\t}\n\t\t}\n\t}, []);\n\n\tconst uiData = getDomData('uiData');\n\n\tconst onChangeButtonStyle = useCallback(\n\t\t(newStyle: string) => setAttributes({ button_style: newStyle }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeShowUserPhoto = useCallback(\n\t\t(new_show_user_photo: boolean) =>\n\t\t\tsetAttributes({ show_user_photo: new_show_user_photo }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeCornerRadius = useCallback(\n\t\t(newRadius: string) => setAttributes({ corner_radius: newRadius }),\n\t\t[setAttributes],\n\t);\n\tconst onChangeShowIfUserIs = useCallback(\n\t\t(value: string) => setAttributes({ show_if_user_is: value }),\n\t\t[setAttributes],\n\t);\n\n\tconst onChangeLang = useCallback(\n\t\t(value: string) => setAttributes({ lang: value }),\n\t\t[setAttributes],\n\t);\n\n\tconst blockProps = useBlockProps();\n\n\treturn (\n\t\t<>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={__('Button Settings')}>\n\t\t\t\t\t<Flex direction=\"column\" gap={4}>\n\t\t\t\t\t\t<RadioControl\n\t\t\t\t\t\t\tlabel={__('Button Style')}\n\t\t\t\t\t\t\tselected={button_style}\n\t\t\t\t\t\t\tonChange={onChangeButtonStyle}\n\t\t\t\t\t\t\toptions={getButtonStyleOptions()}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={__('Show User Photo')}\n\t\t\t\t\t\t\tchecked={show_user_photo}\n\t\t\t\t\t\t\tonChange={onChangeShowUserPhoto}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={__('Corner Radius')}\n\t\t\t\t\t\t\tvalue={corner_radius || ''}\n\t\t\t\t\t\t\tonChange={onChangeCornerRadius}\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\tmax=\"20\"\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={__('Language')}\n\t\t\t\t\t\t\tvalue={lang}\n\t\t\t\t\t\t\tonChange={onChangeLang}\n\t\t\t\t\t\t\toptions={uiData.lang}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={__('Show if user is')}\n\t\t\t\t\t\t\tvalue={show_if_user_is}\n\t\t\t\t\t\t\tonChange={onChangeShowIfUserIs}\n\t\t\t\t\t\t\toptions={uiData.show_if_user_is}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Flex>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<div {...blockProps}>\n\t\t\t\t<Output attributes={attributes} className={blockProps.className} />\n\t\t\t</div>\n\t\t</>\n\t);\n};\n","import type { Block } from '@wordpress/blocks';\n\nimport type { TelegramLoginAtts } from './types';\n\nexport const blockAttributesV0: Block<TelegramLoginAtts>['attributes'] = {\n\tbutton_style: {\n\t\ttype: 'string',\n\t\tdefault: 'large',\n\t},\n\tshow_user_photo: {\n\t\ttype: 'boolean',\n\t\tdefault: true,\n\t},\n\tcorner_radius: {\n\t\ttype: 'string',\n\t\tdefault: '20',\n\t},\n\tshow_if_user_is: {\n\t\ttype: 'string',\n\t\tdefault: '0',\n\t},\n};\n\nexport const blockAttributesV1: Block<TelegramLoginAtts>['attributes'] = {\n\tbutton_style: {\n\t\ttype: 'string',\n\t},\n\tshow_user_photo: {\n\t\ttype: 'boolean',\n\t},\n\tcorner_radius: {\n\t\ttype: 'string',\n\t},\n\tshow_if_user_is: {\n\t\ttype: 'string',\n\t},\n};\n\nexport const blockAttributesV2: Block<TelegramLoginAtts>['attributes'] = {\n\t...blockAttributesV1,\n\tlang: {\n\t\ttype: 'string',\n\t},\n};\n","import { registerBlockType } from '@wordpress/blocks';\n\nimport { __ } from '@wpsocio/i18n';\n\nimport { Edit } from './Edit';\nimport { Output } from './Output';\nimport {\n\tblockAttributesV0,\n\tblockAttributesV1,\n\tblockAttributesV2,\n} from './constants';\nimport type { TelegramLoginAtts } from './types';\n\nimport './style.scss';\n\nconst savedSettings = (window.wptelegram_login?.savedSettings ||\n\t{}) as TelegramLoginAtts;\n\nregisterBlockType<TelegramLoginAtts>('wptelegram/login', {\n\tapiVersion: 3,\n\ttitle: __('WP Telegram Login'),\n\ticon: 'smartphone',\n\tcategory: 'wptelegram',\n\tattributes: blockAttributesV2,\n\tedit: Edit,\n\n\tsave(props) {\n\t\treturn <Output attributes={props.attributes} className=\"\" />;\n\t},\n\tdeprecated: [\n\t\t{\n\t\t\tattributes: blockAttributesV0,\n\t\t\tsave(props) {\n\t\t\t\treturn <Output attributes={props.attributes} className=\"\" />;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: blockAttributesV1,\n\t\t\tmigrate(attributes) {\n\t\t\t\treturn { ...savedSettings, ...attributes };\n\t\t\t},\n\t\t\tsave(props) {\n\t\t\t\treturn <Output attributes={props.attributes} className=\"\" />;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tattributes: blockAttributesV2,\n\t\t\tmigrate(attributes) {\n\t\t\t\treturn { ...savedSettings, ...attributes };\n\t\t\t},\n\t\t\tsave(props) {\n\t\t\t\treturn <Output attributes={props.attributes} className=\"\" />;\n\t\t\t},\n\t\t},\n\t],\n});\n"],"names":["_wordpress_blocks","_wordpress_blockEditor","_wordpress_components","_wordpress_element","getDomData","key","getPluginData","assets","Output","attributes","className","button_style","show_user_photo","corner_radius","button_width","avatar_width","jsxs","jsx","loginImageUrl","borderRadius","width","loginAvatarUrl","getButtonStyleOptions","label","__","value","savedSettings","window","wptelegram_login","Edit","setAttributes","lang","show_if_user_is","useEffect","uiData","onChangeButtonStyle","useCallback","newStyle","onChangeShowUserPhoto","new_show_user_photo","onChangeCornerRadius","newRadius","onChangeShowIfUserIs","onChangeLang","blockProps","useBlockProps","Fragment","InspectorControls","PanelBody","Flex","RadioControl","ToggleControl","TextControl","SelectControl","blockAttributesV0","type","default","blockAttributesV1","blockAttributesV2","registerBlockType","apiVersion","title","icon","category","edit","save","props","deprecated","migrate"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}