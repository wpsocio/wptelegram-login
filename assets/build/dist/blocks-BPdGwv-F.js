import{u as f,_ as s}from"./usePluginData-zNxooAz2.js";const w=e=>f("wptelegram_login",e),r=({attributes:e,className:t})=>{const i=w("assets"),{button_style:a,show_user_photo:u,corner_radius:c}=e;let o;a==="small"?o="100px":a==="medium"&&(o="150px");let l;return a==="small"?l="20px":a==="medium"&&(l="30px"),ReactJSXRuntime.jsxs("div",{className:t,children:[ReactJSXRuntime.jsx("img",{src:i.loginImageUrl,style:{borderRadius:`${c}px`,width:o},alt:""}),u?ReactJSXRuntime.jsx("img",{src:i.loginAvatarUrl,style:{width:l},alt:""}):null]})},v=()=>[{label:s("Large"),value:"large"},{label:s("Medium"),value:"medium"},{label:s("Small"),value:"small"}];var d;const m=((d=window.wptelegram_login)==null?void 0:d.savedSettings)||{},J=({attributes:e,setAttributes:t,className:i})=>{const{button_style:a,show_user_photo:u,corner_radius:c,lang:o,show_if_user_is:l}={...m,...e};wp.element.useEffect(()=>{for(const n in m)n in e||t({[n]:m[n]})},[]);const g=w("uiData"),S=wp.element.useCallback(n=>t({button_style:n}),[t]),b=wp.element.useCallback(n=>t({show_user_photo:n}),[t]),y=wp.element.useCallback(n=>t({corner_radius:n}),[t]),x=wp.element.useCallback(n=>t({show_if_user_is:n}),[t]),C=wp.element.useCallback(n=>t({lang:n}),[t]);return ReactJSXRuntime.jsxs(ReactJSXRuntime.Fragment,{children:[ReactJSXRuntime.jsx(wp.blockEditor.InspectorControls,{children:ReactJSXRuntime.jsxs(wp.components.PanelBody,{title:s("Button Settings"),children:[ReactJSXRuntime.jsx(wp.components.RadioControl,{label:s("Button Style"),selected:a,onChange:S,options:v()}),ReactJSXRuntime.jsx(wp.components.ToggleControl,{label:s("Show User Photo"),checked:u,onChange:b}),ReactJSXRuntime.jsx(wp.components.TextControl,{label:s("Corner Radius"),value:c||"",onChange:y,type:"number",min:"0",max:"20"}),ReactJSXRuntime.jsx(wp.components.SelectControl,{label:s("Language"),value:o,onChange:C,options:g.lang}),ReactJSXRuntime.jsx(wp.components.SelectControl,{label:s("Show if user is"),value:l,onChange:x,options:g.show_if_user_is})]})}),ReactJSXRuntime.jsx(r,{attributes:e,className:i})]})},X={button_style:{type:"string",default:"large"},show_user_photo:{type:"boolean",default:!0},corner_radius:{type:"string",default:"20"},show_if_user_is:{type:"string",default:"0"}},R={button_style:{type:"string"},show_user_photo:{type:"boolean"},corner_radius:{type:"string"},show_if_user_is:{type:"string"}},p={...R,lang:{type:"string"}};var h;const _=((h=window.wptelegram_login)==null?void 0:h.savedSettings)||{};wp.blocks.registerBlockType("wptelegram/login",{title:s("WP Telegram Login"),icon:"smartphone",category:"wptelegram",attributes:p,edit:J,save(e){return ReactJSXRuntime.jsx(r,{attributes:e.attributes,className:""})},deprecated:[{attributes:X,save(e){return ReactJSXRuntime.jsx(r,{attributes:e.attributes,className:""})}},{attributes:R,migrate(e){return{..._,...e}},save(e){return ReactJSXRuntime.jsx(r,{attributes:e.attributes,className:""})}},{attributes:p,migrate(e){return{..._,...e}},save(e){return ReactJSXRuntime.jsx(r,{attributes:e.attributes,className:""})}}]});
//# sourceMappingURL=blocks-BPdGwv-F.js.map
