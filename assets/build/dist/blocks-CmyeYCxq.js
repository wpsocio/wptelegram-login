import{g as I,j as t,_ as o}from"./get-plugin-data-CQBhaGcS.js";import"./_commonjsHelpers-CqkleIqs.js";var d,f;function L(){return f||(f=1,d=wp.blocks),d}var T=L(),g,v;function V(){return v||(v=1,g=wp.blockEditor),g}var y=V(),m,k;function z(){return k||(k=1,m=wp.components),m}var n=z(),h,C;function F(){return C||(C=1,h=wp.element),h}var l=F();const R=e=>I("wptelegram_login",e),j=R("assets"),_=({attributes:e,className:s})=>{const{button_style:a,show_user_photo:c,corner_radius:p}=e;let i;a==="small"?i="100px":a==="medium"&&(i="150px");let u;return a==="small"?u="20px":a==="medium"&&(u="30px"),t.jsxs("div",{className:s,children:[t.jsx("img",{src:j.loginImageUrl,style:{borderRadius:`${p}px`,width:i},alt:""}),c?t.jsx("img",{src:j.loginAvatarUrl,style:{width:u},alt:""}):null]})},O=()=>[{label:o("Large"),value:"large"},{label:o("Medium"),value:"medium"},{label:o("Small"),value:"small"}];var B;const w=((B=window.wptelegram_login)==null?void 0:B.savedSettings)||{},$=({attributes:e,setAttributes:s})=>{const{button_style:a,show_user_photo:c,corner_radius:p,lang:i,show_if_user_is:u}={...w,...e};l.useEffect(()=>{for(const r in w)r in e||s({[r]:w[r]})},[]);const x=R("uiData"),D=l.useCallback(r=>s({button_style:r}),[s]),P=l.useCallback(r=>s({show_user_photo:r}),[s]),M=l.useCallback(r=>s({corner_radius:r}),[s]),U=l.useCallback(r=>s({show_if_user_is:r}),[s]),H=l.useCallback(r=>s({lang:r}),[s]),b=y.useBlockProps();return t.jsxs(t.Fragment,{children:[t.jsx(y.InspectorControls,{children:t.jsx(n.PanelBody,{title:o("Button Settings"),children:t.jsxs(n.Flex,{direction:"column",gap:4,children:[t.jsx(n.RadioControl,{label:o("Button Style"),selected:a,onChange:D,options:O()}),t.jsx(n.ToggleControl,{label:o("Show User Photo"),checked:c,onChange:P,__nextHasNoMarginBottom:!0}),t.jsx(n.TextControl,{label:o("Corner Radius"),value:p||"",onChange:M,type:"number",min:"0",max:"20",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t.jsx(n.SelectControl,{label:o("Language"),value:i,onChange:H,options:x.lang,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t.jsx(n.SelectControl,{label:o("Show if user is"),value:u,onChange:U,options:x.show_if_user_is,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})})}),t.jsx("div",{...b,children:t.jsx(_,{attributes:e,className:b.className})})]})},W={button_style:{type:"string",default:"large"},show_user_photo:{type:"boolean",default:!0},corner_radius:{type:"string",default:"20"},show_if_user_is:{type:"string",default:"0"}},q={button_style:{type:"string"},show_user_photo:{type:"boolean"},corner_radius:{type:"string"},show_if_user_is:{type:"string"}},S={...q,lang:{type:"string"}};var N;const E=((N=window.wptelegram_login)==null?void 0:N.savedSettings)||{};T.registerBlockType("wptelegram/login",{apiVersion:3,title:o("WP Telegram Login"),icon:"smartphone",category:"wptelegram",attributes:S,edit:$,save(e){return t.jsx(_,{attributes:e.attributes,className:""})},deprecated:[{attributes:W,save(e){return t.jsx(_,{attributes:e.attributes,className:""})}},{attributes:q,migrate(e){return{...E,...e}},save(e){return t.jsx(_,{attributes:e.attributes,className:""})}},{attributes:S,migrate(e){return{...E,...e}},save(e){return t.jsx(_,{attributes:e.attributes,className:""})}}]});
//# sourceMappingURL=blocks-CmyeYCxq.js.map
