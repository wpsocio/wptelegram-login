import{g as k,j as t,_ as n}from"./get-plugin-data-C3t3oqxd.js";const b=e=>k("wptelegram_login",e),m=b("assets"),i=({attributes:e,className:o})=>{const{button_style:a,show_user_photo:u,corner_radius:c}=e;let l;a==="small"?l="100px":a==="medium"&&(l="150px");let r;return a==="small"?r="20px":a==="medium"&&(r="30px"),t.jsxs("div",{className:o,children:[t.jsx("img",{src:m.loginImageUrl,style:{borderRadius:`${c}px`,width:l},alt:""}),u?t.jsx("img",{src:m.loginAvatarUrl,style:{width:r},alt:""}):null]})},B=()=>[{label:n("Large"),value:"large"},{label:n("Medium"),value:"medium"},{label:n("Small"),value:"small"}];var w;const p=((w=window.wptelegram_login)==null?void 0:w.savedSettings)||{},N=({attributes:e,setAttributes:o})=>{const{button_style:a,show_user_photo:u,corner_radius:c,lang:l,show_if_user_is:r}={...p,...e};wp.element.useEffect(()=>{for(const s in p)s in e||o({[s]:p[s]})},[]);const g=b("uiData"),f=wp.element.useCallback(s=>o({button_style:s}),[o]),C=wp.element.useCallback(s=>o({show_user_photo:s}),[o]),j=wp.element.useCallback(s=>o({corner_radius:s}),[o]),v=wp.element.useCallback(s=>o({show_if_user_is:s}),[o]),S=wp.element.useCallback(s=>o({lang:s}),[o]),_=wp.blockEditor.useBlockProps();return t.jsxs(t.Fragment,{children:[t.jsx(wp.blockEditor.InspectorControls,{children:t.jsx(wp.components.PanelBody,{title:n("Button Settings"),children:t.jsxs(wp.components.Flex,{direction:"column",gap:4,children:[t.jsx(wp.components.RadioControl,{label:n("Button Style"),selected:a,onChange:f,options:B()}),t.jsx(wp.components.ToggleControl,{label:n("Show User Photo"),checked:u,onChange:C,__nextHasNoMarginBottom:!0}),t.jsx(wp.components.TextControl,{label:n("Corner Radius"),value:c||"",onChange:j,type:"number",min:"0",max:"20",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t.jsx(wp.components.SelectControl,{label:n("Language"),value:l,onChange:S,options:g.lang,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),t.jsx(wp.components.SelectControl,{label:n("Show if user is"),value:r,onChange:v,options:g.show_if_user_is,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})]})})}),t.jsx("div",{..._,children:t.jsx(i,{attributes:e,className:_.className})})]})},D={button_style:{type:"string",default:"large"},show_user_photo:{type:"boolean",default:!0},corner_radius:{type:"string",default:"20"},show_if_user_is:{type:"string",default:"0"}},y={button_style:{type:"string"},show_user_photo:{type:"boolean"},corner_radius:{type:"string"},show_if_user_is:{type:"string"}},d={...y,lang:{type:"string"}};var x;const h=((x=window.wptelegram_login)==null?void 0:x.savedSettings)||{};wp.blocks.registerBlockType("wptelegram/login",{apiVersion:3,title:n("WP Telegram Login"),icon:"smartphone",category:"wptelegram",attributes:d,edit:N,save(e){return t.jsx(i,{attributes:e.attributes,className:""})},deprecated:[{attributes:D,save(e){return t.jsx(i,{attributes:e.attributes,className:""})}},{attributes:y,migrate(e){return{...h,...e}},save(e){return t.jsx(i,{attributes:e.attributes,className:""})}},{attributes:d,migrate(e){return{...h,...e}},save(e){return t.jsx(i,{attributes:e.attributes,className:""})}}]});
//# sourceMappingURL=blocks-DYFTI_g1.js.map
