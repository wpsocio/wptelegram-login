{"version":3,"file":"static/js/wptelegram-login--web-app-login.7806f5b2.js","mappings":"yBAWA,SAASA,EAAYC,EAAkBC,GACtC,IAAMC,EAAY,IAAIC,IAAIH,GAY1B,OAVKE,EAAUE,aAAaC,IAAI,gBAC/BH,EAAUE,aAAaE,IAAI,cAX7B,WACC,IAAMC,EAAc,IAAIJ,IAAIK,OAAOC,SAASC,MAG5C,OAFAH,EAAYI,KAAO,GACnBJ,EAAYH,aAAaQ,OAAO,UACzBL,EAAYM,WAOwBC,IAGd,IAAIC,gBAAgBd,GAE5Be,SAAQ,SAAUC,EAAOC,GAC7ChB,EAAUE,aAAaE,IAAIY,EAAKD,MAG1Bf,EAAUW,WAtBlBL,OAAOW,SAASC,OAAOC,QAyBvB,SAAC,EAAsEC,GAAS,IAAnEC,EAAkE,EAAlEA,kBAAmBC,EAA+C,EAA/CA,eAAgBC,EAA+B,EAA/BA,cAAeC,EAAgB,EAAhBA,KAC9D,IAAKH,GAAqBD,EAAOK,SAAU,CAC1C,IAAMC,EAAQ,WAEbpB,OAAOC,SAASC,KAAOX,EAAYyB,EAAgBF,EAAOK,WAEvDF,EACHH,EAAOO,UAAUH,EAAKI,OAAO,SAAUC,GAC3B,UAAPA,GACHH,OAIFA,KAbH,CAgBGpB,OAAOwB,wBAAyBxB,OAAOW,SAASC,Q","sources":["../domains/wptelegram/login/web-app-login/src/index.ts"],"sourcesContent":["import './types';\n\nwindow.Telegram.WebApp.ready();\n\nfunction getRedirectURL() {\n\tconst current_url = new URL(window.location.href);\n\tcurrent_url.hash = '';\n\tcurrent_url.searchParams.delete('action');\n\treturn current_url.toString();\n}\n\nfunction getLoginURL(auth_url: string, auth_data: string) {\n\tconst login_url = new URL(auth_url);\n\n\tif (!login_url.searchParams.has('redirect_to')) {\n\t\tlogin_url.searchParams.set('redirect_to', getRedirectURL());\n\t}\n\n\tconst initDataSearchParams = new URLSearchParams(auth_data);\n\n\tinitDataSearchParams.forEach(function (value, key) {\n\t\tlogin_url.searchParams.set(key, value);\n\t});\n\n\treturn login_url.toString();\n}\n\n(function ({ is_user_logged_in, login_auth_url, confirm_login, i18n }, webApp) {\n\tif (!is_user_logged_in && webApp.initData) {\n\t\tconst login = () => {\n\t\t\t// Redirect the user to login URL.\n\t\t\twindow.location.href = getLoginURL(login_auth_url, webApp.initData);\n\t\t};\n\t\tif (confirm_login) {\n\t\t\twebApp.showPopup(i18n.popup, function (id) {\n\t\t\t\tif (id === 'login') {\n\t\t\t\t\tlogin();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tlogin();\n\t\t}\n\t}\n})(window.wptelegram_web_app_data, window.Telegram.WebApp);\n"],"names":["getLoginURL","auth_url","auth_data","login_url","URL","searchParams","has","set","current_url","window","location","href","hash","delete","toString","getRedirectURL","URLSearchParams","forEach","value","key","Telegram","WebApp","ready","webApp","is_user_logged_in","login_auth_url","confirm_login","i18n","initData","login","showPopup","popup","id","wptelegram_web_app_data"],"sourceRoot":""}